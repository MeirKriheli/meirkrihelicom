<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.6: http://docutils.sourceforge.net/" />
<meta name="version" content="S5 1.1" />
<title>RTL, i18n, L10n and Django</title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 5951 2009-05-18 18:03:10Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left{
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: left }

/* div.align-center * { */
/*   text-align: left } */

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em }

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
<!-- configuration parameters -->
<meta name="defaultView" content="slideshow" />
<meta name="controlVis" content="hidden" />
<!-- style sheet links -->
<script src="ui/advanced_gfx/slides.js" type="text/javascript"></script>
<link rel="stylesheet" href="ui/advanced_gfx/slides.css"
      type="text/css" media="projection" id="slideProj" />
<link rel="stylesheet" href="ui/advanced_gfx/outline.css"
      type="text/css" media="screen" id="outlineStyle" />
<link rel="stylesheet" href="ui/advanced_gfx/print.css"
      type="text/css" media="print" id="slidePrint" />
<link rel="stylesheet" href="ui/advanced_gfx/opera.css"
      type="text/css" media="projection" id="operaFix" />

<style type="text/css">
#currentSlide {display: none;}
</style>
</head>
<body>
<div class="layout">
<div id="controls"></div>
<div id="currentSlide"></div>
<div id="header">

</div>
<div id="footer">
<h1>RTL, i18n, L10n and Django</h1>
<h2>pyweb-il 11 - 28.12.2009</h2>
</div>
</div>
<div class="presentation">
<div class="slide" id="slide0">
<h1 class="title">RTL, i18n, L10n and Django</h1>

<p>Right to left, Internationalization and localization of web and Django apps</p>

</div>
<div class="slide" id="define-bidi">
<h1>Define: BiDi</h1>
<dl class="docutils">
<dt><cite>BiDi</cite>, or <cite>bi-directional</cite></dt>
<dd>text containing right to left and  left to right strings</dd>
<dt>BiDi support</dt>
<dd>correct display of text with mixed directions</dd>
</dl>
<p class="example">Hello world, מה שלומך today ?</p>
<p class="example rtl">שלום עולם, how are you היום ?</p>
</div>
<div class="slide" id="define-rtl">
<h1>Define: RTL</h1>
<ul class="incremental">
<li><p class="first">right-to-left interfaces</p>
<img alt="RTL.png" class="incremental" src="RTL.png" />
</li>
<li><p class="first">#&#64;%&#64;#%!!#&#64;$%#&#64;%</p>
</li>
</ul>
</div>
<div class="slide" id="define-i18n-l10n">
<h1>Define: i18n, L10n</h1>
<dl class="docutils">
<dt>i18n: Internationalisation</dt>
<dd>Translation to various languages.</dd>
<dt>L10n: Localization</dt>
<dd><p class="first">Adapt to various locales and regions:</p>
<table border="1" class="example last docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr><td>12.23.2009</td>
<td>23.12.2009</td>
</tr>
<tr><td>-1,234.56</td>
<td>-1.234,56</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
<div class="slide" id="rtl-in-web-apps">
<h1>RTL in web apps</h1>
<p>With CSS and overriding. Don't hardcode:</p>
<div class="example"><div class="highlight"><pre><span style="color: #008000; font-weight: bold">&lt;div</span> <span style="color: #7D9029">style=</span><span style="color: #BA2121">&quot;margin-left: 10pt&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
</pre></div>
</div><p>Instead:</p>
<div class="example"><div class="highlight"><pre><span style="color: #008000; font-weight: bold">&lt;div</span> <span style="color: #7D9029">class=</span><span style="color: #BA2121">&quot;with-margin&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
</pre></div>
</div><div class="example"><div class="highlight"><pre><span style="color: #0000FF; font-weight: bold">.with-margin</span> { <span style="color: #008000; font-weight: bold">margin-left</span><span style="color: #666666">:10pt</span> }
<span style="color: #0000FF; font-weight: bold">.rtl</span> <span style="color: #0000FF; font-weight: bold">.with-margin</span> {
    <span style="color: #008000; font-weight: bold">margin-left</span><span style="color: #666666">:0</span>; <span style="color: #008000; font-weight: bold">margin-right</span><span style="color: #666666">:</span> <span style="color: #666666">10pt</span>
}
</pre></div>
</div></div>
<div class="slide" id="overriding-with-css-take-1">
<h1>Overriding with CSS: take 1</h1>
<p>Sheet for one direction, override in another.</p>
<div class="example"><div class="highlight"><pre><span style="color: #408080; font-style: italic">/* myapp.css */</span>
<span style="color: #0000FF; font-weight: bold">.with-margin</span> { <span style="color: #008000; font-weight: bold">margin-left</span><span style="color: #666666">:10pt</span> }

<span style="color: #408080; font-style: italic">/* myapp_rtl.css */</span>
<span style="color: #0000FF; font-weight: bold">.with-margin</span> { <span style="color: #008000; font-weight: bold">margin</span><span style="color: #666666">:0</span> <span style="color: #666666">10pt</span> <span style="color: #666666">0</span> <span style="color: #666666">0</span> }
</pre></div>
</div><p>in html pseudo code</p>
<div class="example"><div class="highlight"><pre><span style="color: #008000; font-weight: bold">&lt;link</span> <span style="color: #7D9029">href=</span><span style="color: #BA2121">&quot;myapp.css&quot;</span> <span style="color: #008000; font-weight: bold">/&gt;</span>
<span style="color: #008000; font-weight: bold">&lt;link</span> <span style="color: #7D9029">href=</span><span style="color: #BA2121">&quot;myapp_rtl.css&quot;</span> <span style="color: #008000; font-weight: bold">/&gt;</span> <span style="color: #408080; font-style: italic">&lt;!-- if bidi --&gt;</span>
</pre></div>
</div></div>
<div class="slide" id="overriding-with-css-take-2">
<h1>Overriding with CSS: take 2</h1>
<p>Single css file and attribute selectors:</p>
<div class="example"><div class="highlight"><pre><span style="color: #008000; font-weight: bold">&lt;html</span> <span style="color: #7D9029">xmlns=</span><span style="color: #BA2121">&quot;http://www.w3.org/1999/xhtml&quot;</span>
    <span style="color: #7D9029">lang=</span><span style="color: #BA2121">&quot;he&quot;</span> <span style="color: #7D9029">xml:lang=</span><span style="color: #BA2121">&quot;he&quot;</span> <span style="color: #7D9029">dir=</span><span style="color: #BA2121">&quot;rtl&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
</pre></div>
</div><p>in css:</p>
<div class="example"><div class="highlight"><pre><span style="color: #0000FF; font-weight: bold">.with-margin</span> { <span style="color: #008000; font-weight: bold">margin-left</span><span style="color: #666666">:10pt</span>; <span style="color: #008000; font-weight: bold">text-align</span><span style="color: #666666">:</span><span style="color: #008000; font-weight: bold">left</span> }
<span style="color: #008000; font-weight: bold">html</span><span style="color: #666666">[</span><span style="color: #008000; font-weight: bold">dir</span><span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">rtl</span><span style="color: #666666">]</span> <span style="color: #0000FF; font-weight: bold">.with-margin</span> {
  <span style="color: #008000; font-weight: bold">margin</span><span style="color: #666666">:0</span> <span style="color: #666666">10pt</span> <span style="color: #666666">0</span> <span style="color: #666666">0</span>;
  <span style="color: #008000; font-weight: bold">text-align</span><span style="color: #666666">:</span> <span style="color: #008000; font-weight: bold">right</span>
}
</pre></div>
</div></div>
<div class="slide" id="overriding-with-css-take-3">
<h1>Overriding with CSS: take 3</h1>
<p>IE6 sucks, no attribute selectors - single css file
utilizing class selectors:</p>
<div class="example"><div class="highlight"><pre><span style="color: #008000; font-weight: bold">&lt;body</span> <span style="color: #7D9029">class=</span><span style="color: #BA2121">&quot;with-rtl&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
</pre></div>
</div><p>in css:</p>
<div class="example"><div class="highlight"><pre><span style="color: #0000FF; font-weight: bold">.with-margin</span> { <span style="color: #008000; font-weight: bold">margin-left</span><span style="color: #666666">:10pt</span> }
<span style="color: #008000; font-weight: bold">body</span><span style="color: #0000FF; font-weight: bold">.with-rtl</span> <span style="color: #0000FF; font-weight: bold">.with-margin</span> { <span style="color: #008000; font-weight: bold">margin</span><span style="color: #666666">:0</span> <span style="color: #666666">10pt</span> <span style="color: #666666">0</span> <span style="color: #666666">0</span> }
</pre></div>
</div></div>
<div class="slide" id="images-and-rtl">
<h1>Images and RTL</h1>
<p>Provide mirrored images for RTL, override in stylesheet
and templates:</p>
<div class="highlight"><pre><span style="color: #008000; font-weight: bold">&lt;div</span> <span style="color: #7D9029">class=</span><span style="color: #BA2121">&quot;arrow&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>Hello<span style="color: #008000; font-weight: bold">&lt;/div&gt;</span>
</pre></div>
<p class="example arrow">Hello</p>
<p class="example rtl arrow">שלום</p>
<p class="example rtl arrow-rtl">שלום</p>
</div>
<div class="slide" id="styles-to-override">
<h1>Styles to override</h1>
<ul class="simple">
<li>margin</li>
<li>padding</li>
<li>float</li>
<li>text-align</li>
<li>direction</li>
<li>border</li>
<li>background-position, background-image</li>
<li>clear</li>
</ul>
</div>
<div class="slide" id="direction-marker">
<h1>Direction marker</h1>
<p>Finally 2 html entities, <cite>&amp;rlm;</cite> and <cite>&amp;lrm;</cite> to enforce direction on neutral
characters.</p>
<div class="example"><div class="highlight"><pre><span style="color: #BC7A00">{{</span> <span style="color: #19177C">user</span> <span style="color: #BC7A00">}}</span>, <span style="color: #BC7A00">{{</span> <span style="color: #19177C">date_published</span> <span style="color: #BC7A00">}}</span>
</pre></div>
</div><p>What happens when all text in an element is in the other direction ? See
the list:</p>
<div class="rtl example line-block">
<div class="line">מאיר, 10.2.2009</div>
<div class="line">meir, 10.2.2009</div>
<div class="line">יוסף, 13.3.2009</div>
</div>
</div>
<div class="slide" id="direction-marker-continued">
<h1>Direction marker, continued</h1>
<p>The comma and space are neutral, direction markers force desired
direction, e.g for RTL:</p>
<div class="example"><div class="highlight"><pre><span style="color: #BC7A00">{{</span> <span style="color: #19177C">user</span> <span style="color: #BC7A00">}}</span>&amp;rlm;, <span style="color: #BC7A00">{{</span> <span style="color: #19177C">date_published</span> <span style="color: #BC7A00">}}</span>
</pre></div>
</div><p>Now ordering is correct:</p>
<div class="rtl example line-block">
<div class="line">מאיר, 10.2.2009</div>
<div class="line">meir‏, 10.2.2009</div>
<div class="line">יוסף, 13.3.2009</div>
</div>
</div>
<div class="slide" id="django-and-i18n">
<h1>Django and i18n</h1>
<ul class="incremental simple">
<li>Uses gettext for translation.</li>
<li>Can translate strings in templates, source code and javascript</li>
<li>Can be disabled if not needed</li>
</ul>
</div>
<div class="slide" id="settings-py">
<h1>settings.py</h1>
<div class="example"><div class="highlight"><pre>LANGUAGE_CODE <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;he&#39;</span> <span style="color: #408080; font-style: italic"># default language</span>
USE_I18N <span style="color: #666666">=</span> <span style="color: #008000">True</span>      <span style="color: #408080; font-style: italic"># default</span>
TEMPLATE_CONTEXT_PROCESSORS <span style="color: #666666">=</span> (
  <span style="color: #BA2121">&quot;...&quot;</span>,
  <span style="color: #BA2121">&quot;django.core.context_processors.i18n&quot;</span>,
  <span style="color: #BA2121">&quot;...&quot;</span>,
) <span style="color: #408080; font-style: italic"># default</span>
</pre></div>
</div><p>To disable i18n:</p>
<div class="example"><div class="highlight"><pre>USE_I18N <span style="color: #666666">=</span> <span style="color: #008000">False</span>   <span style="color: #408080; font-style: italic"># short-circuit translations</span>
</pre></div>
</div></div>
<div class="slide" id="always-mark-for-translation">
<h1>Always mark for translation</h1>
<p>Always mark text for translation, even if single language app
right now.</p>
<p>If text isn't translated, it'll fall back to the string itself.</p>
<div class="example"><div class="highlight"><pre><span style="color: #BC7A00">{%</span> <span style="color: #008000; font-weight: bold">trans</span> <span style="color: #BA2121">&quot;Hello&quot;</span> <span style="color: #BC7A00">%}</span> <span style="color: #BC7A00">{{</span> <span style="color: #19177C">username</span> <span style="color: #BC7A00">}}</span>
</pre></div>
</div><p>Without translation {&quot;username&quot;:&quot;foo&quot;}:</p>
<p class="example">Hello foo</p>
</div>
<div class="slide" id="translation-in-templates">
<h1>Translation in templates</h1>
<p>Simple strings</p>
<div class="example"><div class="highlight"><pre><span style="color: #BC7A00">{%</span> <span style="color: #008000; font-weight: bold">load</span> <span style="color: #19177C">i18n</span> <span style="color: #BC7A00">%}</span>
<span style="color: #BC7A00">{%</span> <span style="color: #008000; font-weight: bold">trans</span> <span style="color: #BA2121">&quot;Hello&quot;</span> <span style="color: #BC7A00">%}</span> <span style="color: #BC7A00">{{</span> <span style="color: #19177C">user</span> <span style="color: #BC7A00">}}</span>
</pre></div>
</div><p>Text with variables</p>
<div class="example"><div class="highlight"><pre><span style="color: #BC7A00">{%</span> <span style="color: #008000; font-weight: bold">load</span> <span style="color: #19177C">i18n</span> <span style="color: #BC7A00">%}</span>

<span style="color: #BC7A00">{%</span> <span style="color: #008000; font-weight: bold">blocktrans</span> <span style="color: #BC7A00">%}</span>
Hello <span style="color: #BC7A00">{{</span> <span style="color: #19177C">user</span> <span style="color: #BC7A00">}}</span>, last login at <span style="color: #BC7A00">{{</span> <span style="color: #19177C">login_date</span> <span style="color: #BC7A00">}}</span>.
<span style="color: #BC7A00">{%</span> <span style="color: #008000; font-weight: bold">endblocktrans</span> <span style="color: #BC7A00">%}</span>
</pre></div>
</div></div>
<div class="slide" id="id1">
<h1>Translation in templates</h1>
<p>Single and plural</p>
<div class="example"><div class="highlight"><pre><span style="color: #BC7A00">{%</span> <span style="color: #008000; font-weight: bold">load</span> <span style="color: #19177C">i18n</span> <span style="color: #BC7A00">%}</span>

<span style="color: #BC7A00">{%</span> <span style="color: #008000; font-weight: bold">blocktrans</span> <span style="color: #BC7A00">%}</span>
You have <span style="color: #BC7A00">{{</span> <span style="color: #19177C">incoming.count</span> <span style="color: #BC7A00">}}</span> new message.
<span style="color: #BC7A00">{%</span> <span style="color: #008000; font-weight: bold">plural</span> <span style="color: #BC7A00">%}</span>
You have <span style="color: #BC7A00">{{</span> <span style="color: #19177C">incoming.count</span> <span style="color: #BC7A00">}}</span> new messages.
<span style="color: #BC7A00">{%</span> <span style="color: #008000; font-weight: bold">endblocktrans</span> <span style="color: #BC7A00">%}</span>
</pre></div>
</div></div>
<div class="slide" id="translation-in-code">
<h1>Translation in code</h1>
<p><cite>ugettxt_lazy()</cite> vs <cite>ugettext()</cite></p>
<ul class="simple">
<li>ugettxt_lazy is a proxy</li>
<li>Translated when value is accessed, not called</li>
<li>Used in place where the code is called once, e.g: Models, Forms</li>
</ul>
</div>
<div class="slide" id="ugettext-lazy-e-g-models-py">
<h1>ugettext_lazy, e.g models.py</h1>
<div class="highlight"><pre><span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">django.utils.translation</span> <span style="color: #008000; font-weight: bold">import</span> \
      ugettext_lazy <span style="color: #008000; font-weight: bold">as</span> _
<span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">django.db</span> <span style="color: #008000; font-weight: bold">import</span> models

<span style="color: #008000; font-weight: bold">class</span> <span style="color: #0000FF; font-weight: bold">page</span>(models<span style="color: #666666">.</span>Model):

    title <span style="color: #666666">=</span> models<span style="color: #666666">.</span>CharField( _(<span style="color: #BA2121">&#39;Title&#39;</span>),
      max_length<span style="color: #666666">=20</span>,
      help_text<span style="color: #666666">=</span>_(<span style="color: #BA2121">&#39;Page title&#39;</span>)
    )

    <span style="color: #008000; font-weight: bold">class</span> <span style="color: #0000FF; font-weight: bold">Meta</span>:
        verbose_name <span style="color: #666666">=</span> _(<span style="color: #BA2121">&#39;Page&#39;</span>)
        verbose_name_plural <span style="color: #666666">=</span> _(<span style="color: #BA2121">&#39;Pages&#39;</span>)
</pre></div>
</div>
<div class="slide" id="ugettext-e-g-views">
<h1>ugettext, e.g views:</h1>
<div class="highlight"><pre><span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">django.utils.translation</span> <span style="color: #008000; font-weight: bold">import</span> ugettext <span style="color: #008000; font-weight: bold">as</span> _

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">welcome</span>(request):
    msg <span style="color: #666666">=</span> _(<span style="color: #BA2121">&#39;Welcome back&#39;</span>)
    <span style="color: #008000; font-weight: bold">return</span> HttpResponse(msg)

<span style="color: #AA22FF">@login</span> required
<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">welcome_with_name</span>(request):

    msg <span style="color: #666666">=</span> _(<span style="color: #BA2121">&#39;Hello </span><span style="color: #BB6688; font-weight: bold">%(name)s</span><span style="color: #BA2121">, welcome back&#39;</span>) <span style="color: #666666">%</span> \
       { <span style="color: #BA2121">&#39;name&#39;</span>: request<span style="color: #666666">.</span>user }
    <span style="color: #008000; font-weight: bold">return</span> HttpResponse(msg)
</pre></div>
</div>
<div class="slide" id="message-files-create">
<h1>Message files - create</h1>
<p>Create and update message files</p>
<p>A <cite>locale</cite> dir is required, recommended in the app dir.</p>
<div class="example"><div class="highlight"><pre><span style="color: #19177C">$ </span>django-admin.py makemessages -l he
</pre></div>
</div><p>By default uses <cite>html</cite> extension for templates, can
specify others:</p>
<div class="example"><div class="highlight"><pre><span style="color: #19177C">$ </span>django-admin.py makemessages <span style="color: #BB6622; font-weight: bold">\</span>
  -e html,txt,xml -l he
</pre></div>
</div></div>
<div class="slide" id="message-files-edit">
<h1>Message files - Edit</h1>
<p>Edit message files:</p>
<ul class="simple">
<li>Text editor</li>
<li><a class="reference external" href="http://www.poedit.net/">Poedit</a></li>
<li><a class="reference external" href="http://userbase.kde.org/Lokalize">lokalize</a></li>
<li><a class="reference external" href="http://gtranslator.sourceforge.net/">gtranslator</a></li>
<li><a class="reference external" href="http://www.vim.org/scripts/script.php?script_id=695">po.vim</a></li>
</ul>
</div>
<div class="slide" id="message-files-compile">
<h1>Message files -  compile</h1>
<p>Compile message files</p>
<div class="highlight"><pre><span style="color: #19177C">$ </span>django-admin.py compilemessages -l he
</pre></div>
<div class="admonition-reload-the-server admonition">
<p class="first admonition-title">Reload the server</p>
<p class="last">Django's dev server won't reload after compiling, restart it
for your sanity.</p>
</div>
</div>
<div class="slide" id="coming-to-django-near-you">
<h1>Coming to Django near you</h1>
<ul class="simple">
<li>Better L10n is added to the next version of Django</li>
<li>Called <a class="reference external" href="http://docs.djangoproject.com/en/dev/topics/i18n/#id3">Format localization</a></li>
<li>Allows per project customization</li>
</ul>
</div>
<div class="slide" id="reusable-helper-apps">
<h1>Reusable helper apps</h1>
<p>Some reusable apps for multilingual and bidi sites</p>
<ul class="simple">
<li>django-localeurl</li>
<li>django-multilingual</li>
<li>django-bidi-utils</li>
</ul>
</div>
<div class="slide" id="unique-urls">
<h1>Unique URLs</h1>
<ul>
<li><p class="first"><cite>django.views.i18n.set_language</cite> changes active language with POST.</p>
</li>
<li><div class="first line-block">
<div class="line"><strong>it sucks</strong>, different languages should have different urls:</div>
<div class="line"><br /></div>
<div class="line">example.com/he/contact-us/</div>
<div class="line">example.com/en/contact-us/</div>
</div>
</li>
<li><p class="first">OTH littering urlconf with language selectors is messy, non DRY</p>
<div class="highlight"><pre>url(<span style="color: #BA2121">&#39;^(?P&lt;lang&gt;he|en)/contact-us/$&#39;</span>, )
</pre></div>
</li>
</ul>
</div>
<div class="slide" id="django-localeurl">
<h1>django-localeurl</h1>
<p><a class="reference external" href="http://code.google.com/p/django-localeurl/">django-localeurl</a> provides a middleware which:</p>
<ul class="simple">
<li>Detects the language from the url</li>
<li>Sets <cite>request.path_info</cite> without the language</li>
<li>Continue with normal pattern matching</li>
</ul>
<p>Plus:</p>
<ul class="simple">
<li>Replaces the <cite>url</cite> template tag and <cite>reverse()</cite></li>
<li>Provides language/url helper tags</li>
</ul>
</div>
<div class="slide" id="django-multilingual">
<h1>django-multilingual</h1>
<p><a class="reference external" href="http://code.google.com/p/django-multilingual/">django-multilingual</a> provides database translations</p>
<div class="example"><div class="highlight"><pre><span style="color: #008000; font-weight: bold">class</span> <span style="color: #0000FF; font-weight: bold">Category</span>(models<span style="color: #666666">.</span>Model):
    parent <span style="color: #666666">=</span> models<span style="color: #666666">.</span>ForeignKey(<span style="color: #BA2121">&#39;self&#39;</span>, \
            blank<span style="color: #666666">=</span><span style="color: #008000">True</span>, null<span style="color: #666666">=</span><span style="color: #008000">True</span>)

    <span style="color: #008000; font-weight: bold">class</span> <span style="color: #0000FF; font-weight: bold">Translation</span>(multilingual<span style="color: #666666">.</span>Translation):
        name <span style="color: #666666">=</span> models<span style="color: #666666">.</span>CharField(max_length<span style="color: #666666">=50</span>)

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">__unicode__</span>(<span style="color: #008000">self</span>):
        <span style="color: #BA2121">&quot;Returns correct name for active lang&quot;</span>
        <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>name
</pre></div>
</div></div>
<div class="slide" id="django-bidi-utils">
<h1>django-bidi-utils</h1>
<p><a class="reference external" href="http://github.com/mksoft/django-bidi-utils">django-bidi-utils</a>, language direction related context processor and
filter. Before:</p>
<div class="example"><div class="highlight"><pre>&lt;html dir=&quot;<span style="color: #BC7A00">{{</span><span style="color: #19177C">LANGUAGE_BIDI</span><span style="color: #666666">|</span><span style="color: #0000FF">yesno</span><span style="color: #BA2121">:&quot;rtl,ltr&quot;</span><span style="color: #BC7A00">}}</span>&quot;&gt;
</pre></div>
</div><p>After:</p>
<div class="example"><div class="highlight"><pre>&lt;html dir=&quot;<span style="color: #BC7A00">{{</span><span style="color: #19177C">LANGUAGE_DIRECTION</span><span style="color: #BC7A00">}}</span>&quot;&gt;
</pre></div>
</div></div>
<div class="slide" id="now-what">
<h1>Now what ?</h1>
<ul>
<li><p class="first">Read the <a class="reference external" href="http://docs.djangoproject.com/en/dev/topics/i18n/">Django i18n docs</a></p>
</li>
<li><p class="first">Questions ?</p>
</li>
<li><p class="first">Contact <a class="reference external" href="mailto:meir&#64;mksoft.co.il">me</a> for further questions</p>
<blockquote>
<p>Thank you</p>
</blockquote>
</li>
</ul>
</div>
</div>
<script type="text/javascript">
  var _gaq=[['_setAccount','UA-26475861-1'],['_trackPageview']];
  (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
  g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
  s.parentNode.insertBefore(g,s)}(document,'script'));
</script>
</body>
</html>
